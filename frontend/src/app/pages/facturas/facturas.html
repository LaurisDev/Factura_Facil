<header class="navbar">
  <a class="brand" routerLink="/">Factura Fácil</a>
  <nav><a routerLink="/facturas">Listado</a></nav>
</header>

<main class="page">
  <h1>Nueva factura</h1>

  <form [formGroup]="form" (ngSubmit)="submit()" class="form">

    <div class="grid">
      <label>
        <span>Tipo *</span>
        <select formControlName="tipo">
          <option [ngValue]="null" disabled>Seleccione...</option>
          <option *ngFor="let t of tipoOptions" [value]="t.value">{{ t.label }}</option>
        </select>
      </label>

      <label>
        <span>Número *</span>
        <input type="text" formControlName="numero" />
      </label>

      <label>
        <span>Cliente *</span>
        <input type="text" formControlName="cliente" />
      </label>

      <label>
        <span>Contacto *</span>
        <input type="text" formControlName="contacto" />
      </label>

      <label>
        <span>Fecha de elaboración *</span>
        <input type="date" formControlName="fechaCreacion" />
      </label>

      <label>
        <span>Producto *</span>
        <select formControlName="producto">
          <option [ngValue]="null" disabled>Seleccione...</option>
          <option *ngFor="let p of productoOptions" [value]="p.value">
            {{ p.label }}
          </option>
        </select>
      </label>

      <label class="col-span-2">
        <span>Descripción</span>
        <input type="text" formControlName="descripcion" />
      </label>

      <label>
        <span>Cantidad *</span>
        <input type="number" min="1" formControlName="cantidad" />
      </label>

      <label>
        <span>Forma de pago *</span>
        <select formControlName="formaPago">
          <option [ngValue]="null" disabled>Seleccione...</option>
          <option *ngFor="let f of formaPagoOptions" [value]="f.value">{{ f.label }}</option>
        </select>
      </label>
    </div>

    <!-- Solo texto, sin cálculos en el front -->
    <div class="totales">
      El total será calculado por el servidor al guardar.
    </div>

    <button class="btn" type="submit" [disabled]="loading || form.invalid">Guardar</button>
  </form>
</main>
